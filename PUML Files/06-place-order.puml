@startuml Place Order Use Case
!theme plain
skinparam backgroundColor #f8f9fa

title Use Case: ביצוע הזמנה (Place Order)

|User|
start
:משתמש בעמוד העגלה;
:לחיצה על "המשך לתשלום";

|System|
if (המשתמש מחובר?) then (לא)
  |User|
  :הפניה לעמוד התחברות;
  :התחברות או הרשמה;
  |System|
endif

:בדיקה סופית של זמינות המלאי;
if (כל הפריטים זמינים?) then (כן)
  |User|
  :מילוי פרטי משלוח:
  - כתובת
  - טלפון
  - הערות;
  
  :בחירת אמצעי משלוח:
  - רגיל (5-7 ימים)
  - מהיר (2-3 ימים)
  - אקספרס (24 שעות);
  
  |System|
  :חישוב עלות משלוח;
  :חישוב סכום סופי;
  
  |User|
  :אישור פרטי ההזמנה;
  :בחירת אמצעי תשלום:
  - כרטיס אשראי
  - PayPal
  - העברה בנקאית;
  
  |System|
  :יצירת הזמנה במסד הנתונים;
  :הקצאת מספר הזמנה;
  :שמירת פרטי המשלוח;
  
  |User|
  :מעבר לעמוד התשלום;
  
else (לא)
  |User|
  :הצגת הודעה על פריטים לא זמינים;
  :הצעת עדכון העגלה;
  stop
endif

stop

note right
  **Use Case:** ביצוע הזמנה
  **Actor:** משתמש
  **תיאור:** השלמת רכישה ובחירת אמצעי תשלום
  
  **תנאים מוקדמים:**
  - יש פריטים בעגלה
  - המשתמש מחובר
  - כל הפריטים זמינים במלאי
  
  **תוצאה מוצלחת:**
  - נוצרה הזמנה במערכת
  - נשמרו פרטי המשלוח
  - המשתמש מועבר לתשלום
  
  **מידע נדרש:**
  - פרטי משלוח מלאים
  - אמצעי משלוח
  - אמצעי תשלום
  
  **תרחישי כשל:**
  - משתמש לא מחובר
  - פריטים לא זמינים
  - פרטים חסרים
end note

@enduml
