@startuml View Cart Use Case
!theme plain
skinparam backgroundColor #f8f9fa

title Use Case: צפייה בעגלת הקניות (View Cart)

|User|
start
:משתמש לוחץ על אייקון העגלה;

|System|
if (המשתמש מחובר?) then (כן)
  :טעינת פריטי העגלה ממסד הנתונים;
else (לא)
  :טעינת פריטי העגלה מהזיכרון המקומי;
endif

:בדיקת זמינות כל פריט במלאי;
:חישוב מחירים וסכומים;
:הצגת תוכן העגלה;

|User|
:צפייה בפריטי העגלה:
- שם המוצר
- תמונה
- מחיר יחידה
- כמות
- סכום חלקי;

:צפייה בסיכום:
- סכום ביניים
- משלוח
- מס
- סכום כולל;

if (רוצה לעדכן כמות?) then (כן)
  :שינוי כמות פריט;
  |System|
  :בדיקת זמינות הכמות החדשה;
  if (כמות זמינה?) then (כן)
    :עדכון הכמות;
    :חישוב מחדש של הסכומים;
    |User|
    :הצגת הסכומים המעודכנים;
  else (לא)
    |User|
    :הצגת הודעה - כמות לא זמינה;
  endif
else (לא)
endif

if (רוצה להסיר פריט?) then (כן)
  :לחיצה על כפתור הסרה;
  |System|
  :הסרת הפריט מהעגלה;
  :חישוב מחדש של הסכומים;
  |User|
  :הצגת העגלה המעודכנת;
else (לא)
endif

if (רוצה להמשיך לתשלום?) then (כן)
  if (העגלה לא ריקה?) then (כן)
    :מעבר לעמוד התשלום;
  else (לא)
    :הצגת הודעה - העגלה ריקה;
  endif
else (לא)
  :המשך קנייה;
endif

stop

note right
  **Use Case:** צפייה בעגלת הקניות
  **Actor:** משתמש
  **תיאור:** עיון בפריטים לפני רכישה
  
  **תנאים מוקדמים:**
  - יש פריטים בעגלה (או עגלה ריקה)
  
  **תוצאה מוצלחת:**
  - המשתמש רואה את תוכן העגלה
  - יכול לעדכן כמויות
  - יכול להסיר פריטים
  - רואה חישוב מחירים מדויק
  
  **פונקציונליות:**
  - עדכון כמויות
  - הסרת פריטים
  - חישוב מחירים בזמן אמת
  - בדיקת זמינות מלאי
  - שמירת שינויים
end note

@enduml
